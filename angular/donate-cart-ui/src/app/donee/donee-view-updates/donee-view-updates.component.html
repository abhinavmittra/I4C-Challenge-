<div class="d-flex justify-content-center" *ngIf="loadingFlag">
    <div class="spinner-border" role="status">
      <span class="visually-hidden">Loading...</span>
    </div>
  </div>
<div class="container" *ngIf="!loadingFlag">

<div id = "updateList" *ngIf="itemListMode">
    <h3>Requirements put by you</h3>
    <table class="table">
        <thead>
            <tr>  
                <th>Item Name</th> 
                <th>Quantity</th>   
                <th>Status</th>                             
                <th>More Details</th>                                               
            </tr>
        </thead>
        <tbody>
            <tr *ngFor="let item of doneeReqsList;let i = index;"> 
                <td> <div class="form-group">
                    <div class="form-group__text">
                        <span>{{item.name}}</span>                                               
                    </div>
                </div>
              </td>     
              <td> <div class="form-group">
                <div class="form-group__text">
                    <span>{{item.quantity}}</span>                                               
                </div>
            </div>
          </td>  
          <td> <div class="form-group">
            <div class="form-group__text">
                <span>{{item.status}}</span>                                               
            </div>
        </div>
      </td> 
      <td> 
          <div class="form-group">
        <div class="form-group__text">
            <button class="btn btn-secondary" (click)="viewReqDetails(i)">View</button>                                            
            </div>
        </div>
    </td>   
</tr>
    </tbody>
    </table>
</div>
<div id = "viewItemDetail" *ngIf="!itemListMode">

    <div id="reqDetails">
        <h4>Requirement Details</h4>
        <button type="button" class="btn btn-secondary" data-bs-toggle="modal" data-bs-target="#exampleModal">
            Delete
          </button>
          
          <!-- Modal -->
          <div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
            <div class="modal-dialog">
              <div class="modal-content">
                <div class="modal-header">
                  <h5 class="modal-title" id="exampleModalLabel">Are you sure?</h5>
                  <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                  You want to delete this item.
                </div>
                <p></p>
                <div class="modal-footer">
                  <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">No</button>
                  <button type="button" class="btn btn-primary" (click)="deleteRequirement()">Yes</button>
                </div>
              </div>
            </div>
          </div>
    <div class = "row">
        <div class="col">
            <label>Item Name:</label><span>{{selectedItem.name}}</span>
        </div>
        <div class="col">
            <label>Status: </label><span>{{selectedItem.status}}</span>
        </div>
        
    </div>
    <div class = "row">
        <div class="col">
            <label>Category: </label><span>{{selectedItem.category}}</span>
        </div>
        <div class="col">
            <label>Subcategory: </label><span>{{selectedItem.subcategory}}</span>
        </div>
        
    </div>
    <div class = "row">
        <div class="col">
            <label>Quantity:</label><span>{{selectedItem.quantity}}</span>
        </div>
        <div class="col">
            <label>Details:</label><span>{{selectedItem.details}}</span>
        </div>        
    </div>
    
</div>

<div id="donationOfferings" *ngIf="selectedItem.status=='Available'">

    <h3>Offers Made by Donors</h3>
<table class="table">
    <thead>
        <tr>  
            <th>Quantity</th> 
            <th>Quality</th>
            <th>Details</th>
            <th>Image</th>                
            <th>Accept/Reject</th>                                                  
        </tr>
    </thead>
    <tbody>
        <tr *ngFor="let item of selectedReqDonationsList;let i = index;"> 
            <td> <div class="form-group">
                <div class="form-group__text">
                    <span>{{item.quantity}}</span>                                               
                </div>
            </div>
          </td>     
          <td> <div class="form-group">
            <div class="form-group__text">
                <span>{{item.quality}}</span>                                               
            </div>
        </div>
      </td>  
      <td> <div class="form-group">
        <div class="form-group__text">
            <span>{{item.details}}</span>                                               
        </div>
    </div>
  </td>   
  <td> <div class="form-group">
    <div class="form-group__text">
        <button class="btn btn-secondary" (click)="viewImage(i)">View</button>                                              
    </div>
</div>
</td>                       
          <td> <div class="form-group">
            <div class="form-group__text">
                <button class="btn btn-secondary" (click)="approveDonation(i)">Accept</button> | <button class="btn btn-secondary" (click)="rejectDonation(i)">Reject</button>                                              
            </div>
        </div>
      </td>  
    </tr>
</tbody>
</table>


</div>


<button class="btn btn-secondary" (click)="viewList()">Back</button>
</div>
</div>
